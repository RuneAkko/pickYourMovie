{% extends 'index.html' %}
{% load staticfiles %}
{% block script_1%}
    <script type="text/javascript">

    </script>
{% endblock %}
{% block body_1 %}
<br>
<hr>
    <div class="all-comments-info" style="text-align: center">
{#							<a href="#">Comments</a>#}
{#                            <br>#}
							<div class="">
								<form action="/xt_user_based_recommend" method="post">
                                    {% csrf_token %}
									<input type="number" name="user_id" placeholder="用户id(1-367)" required="">
									<input type="number"  name="film_nums" placeholder="推荐电影数目" required="">
									<button type="submit" class="btn btn-default">开始推荐</button>
{#									<div class="clearfix"> </div>#}
								</form>
							</div>
						</div>
{% endblock %}
{% block body_2 %}
<br>
<hr>
 <div class="bs-docs-example">
 <table class="table table-striped">
                    <h1 style="text-align: center">选定用户的历史记录</h1>
					<thead>
						<tr>
{#							<th>#</th>#}
							<th>目标用户ID</th>
							<th>历史评价电影名</th>
                            <th>历史评价电影类型</th>
							<th>用户对电影评分</th>
						</tr>
					</thead>
					<tbody>
						{% for ele in info %}
						<tr>
							<td>{{ user }}</td>
							<td>{{ ele.film_name }}</td>
                            <td>{{ ele.film_type }}</td>
							<td>{{ ele.ratings }}</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
 <hr>
                <h1 style="text-align: center">选定用户的个性化推荐结果</h1>
				<table class="table table-striped">
					<thead>
						<tr>
{#							<th>#</th>#}
							<th>目标用户ID</th>
							<th>推荐电影</th>
							<th>推荐评分</th>
						</tr>
					</thead>
					<tbody>
						{% for ele in movies %}
						<tr>
							<td>{{ user }}</td>
							<td>{{ ele.movie_name }}</td>
							<td>{{ ele.score }}</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
</div>
<!-- footer -->
{% endblock %}
